---
import { ArrowLeft, ArrowRight } from 'lucide-preact';

export interface NavPost {
	slug: string;
	title: string;
}

export interface Props {
	prev?: NavPost | null;
	next?: NavPost | null;
}

const { prev, next } = Astro.props;

const hasNavigation = prev || next;
---

{hasNavigation && (
	<nav class="space-y-4 border-t border-gray-800 pt-8" aria-label="Post navigation">
		<h2 class="flex items-center font-mono text-xs uppercase tracking-[0.15em] text-gray-400">
			<span class="text-primary-500 mr-2">â—‡</span>
			Keep Reading
		</h2>
		<div class="flex flex-col sm:flex-row gap-4">
			{prev && (
				<a
					href={`/posts/${prev.slug}`}
					class="group flex-1 flex items-center gap-3 p-4 border border-gray-800 hover:border-primary-500/50 bg-gray-900 hover:bg-gray-800 default-transition relative before:absolute before:left-0 before:top-0 before:bottom-0 before:w-0 before:bg-primary-500 before:transition-all before:duration-200 hover:before:w-1"
				>
					<ArrowLeft class="w-4 h-4 text-gray-500 group-hover:text-primary-500 default-transition group-hover:-translate-x-1" />
					<div class="min-w-0">
						<span class="font-mono text-xs text-gray-600 uppercase tracking-wider">Previous</span>
						<p class="text-sm font-[Fraunces] text-gray-200 group-hover:text-gray-50 truncate default-transition">
							{prev.title}
						</p>
					</div>
				</a>
			)}
			{next && (
				<a
					href={`/posts/${next.slug}`}
					class="group flex-1 flex items-center justify-end gap-3 p-4 border border-gray-800 hover:border-primary-500/50 bg-gray-900 hover:bg-gray-800 default-transition text-right relative before:absolute before:right-0 before:top-0 before:bottom-0 before:w-0 before:bg-primary-500 before:transition-all before:duration-200 hover:before:w-1"
				>
					<div class="min-w-0">
						<span class="font-mono text-xs text-gray-600 uppercase tracking-wider">Next</span>
						<p class="text-sm font-[Fraunces] text-gray-200 group-hover:text-gray-50 truncate default-transition">
							{next.title}
						</p>
					</div>
					<ArrowRight class="w-4 h-4 text-gray-500 group-hover:text-primary-500 default-transition group-hover:translate-x-1" />
				</a>
			)}
		</div>
	</nav>
)}
